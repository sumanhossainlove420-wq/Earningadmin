<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>এড দেখে ইনকাম করুন</title>
  <style>
    body{font-family:system-ui,Segoe UI,Roboto,Arial;max-width:900px;margin:24px auto;padding:12px}
    header{display:flex;justify-content:space-between;align-items:center}
    .card{border:1px solid #e4e4e7;padding:16px;border-radius:12px;margin:12px 0;box-shadow:0 6px 20px rgba(0,0,0,0.04)}
    button{padding:8px 14px;border-radius:8px;border:0;background:#0b74de;color:white;cursor:pointer}
    button[disabled]{opacity:.5;cursor:not-allowed}
    .ads-area{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .ad-box{min-height:140px;border:1px dashed #cbd5e1;border-radius:10px;padding:8px;display:flex;align-items:center;justify-content:center;flex-direction:column}
    .small{font-size:13px;color:#374151}
    .balance{font-weight:700;font-size:20px}
    .note{font-size:13px;color:#6b7280}
    .center{display:flex;gap:8px;align-items:center}
    .modal{position:fixed;inset:0;background:rgba(2,6,23,0.4);display:flex;align-items:center;justify-content:center}
    .modal-card{background:white;padding:18px;border-radius:12px;min-width:320px}
    input[type=text]{width:100%;padding:8px;margin-top:8px;border-radius:8px;border:1px solid #e5e7eb}
    table{width:100%;border-collapse:collapse;margin-top:8px}
    th,td{border:1px solid #e5e7eb;padding:6px;font-size:14px;text-align:center}
    th{background:#f3f4f6}
  </style>
  <script src='//libtl.com/sdk.js' data-zone='9869812' data-sdk='show_9869812'></script>
</head>
<body>
<header>
  <h1>এড দেখে ইনকাম করুন</h1>
  <div class="small">Balance: <span id="balance" class="balance">0.00</span> BDT</div>
</header>

<section class="card">
  <div class="note">প্রতি এড ভিউ = 0.30 BDT। Owner Sujon Dewan  </div>
</section><script type="text/javascript">
	atOptions = {
		'key' : '033b696df1d783841b2acd0056ac0c5b',
		'format' : 'iframe',
		'height' : 250,
		'width' : 300,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/033b696df1d783841b2acd0056ac0c5b/invoke.js"></script>

<section class="card">
  <h3>Ads area</h3>
  <div class="small">প্রতি এড দেখলে আয়: <strong>0.30 BDT</strong></div>
  <div class="ads-area">
    <div class="ad-box">
      <button onclick="showRewardedAd1()">▶ Watch Ad 1</button>
    </div>
    <div class="ad-box">
      <button onclick="showRewardedAd2()">▶ Watch Ad 2</button>
    </div>
  </div>
</section>

<section class="card">
  <h3>উইথড্র (Withdraw)</h3>
  <div class="center">
    <button id="withdrawBtn" disabled>Withdraw to bKash / Nagad</button>
    <div class="small">Minimum withdrawal: <strong>100.00 BDT</strong></div>
  </div>
</section>

<section class="card">
  <h3>Withdraw History</h3>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Date</th>
        <th>Method</th>
        <th>Number</th>
        <th>Amount</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody id="withdrawHistory"></tbody>
  </table>
</section>

<div class="footer">
  <div>YouTube channel (Android Sujan) please subscribe </div>
</div>

<!-- Withdraw modal -->
<div id="withdrawModal" style="display:none" class="modal">
  <div class="modal-card">
    <h3>Withdraw Request</h3>
    <div class="small">Available: <span id="modalBalance">0.00</span> BDT</div>
    <div style="margin-top:12px">
      <label class="small">পে-আউট মাধ্যম:</label>
      <select id="payMethod" style="width:100%;padding:8px;margin-top:8px;border-radius:8px;border:1px solid #e5e7eb">
        <option value="bkash">bKash</option>
        <option value="nagad">Nagad</option>
      </select>

      <label class="small" style="margin-top:8px;display:block">Mobile Number:</label>
      <input id="walletNumber" type="text" placeholder="01XXXXXXXXX">

      <label class="small" style="margin-top:8px;display:block">Amount:</label>
      <input id="withdrawAmount" type="text" placeholder="Amount (min 100)">

      <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end">
        <button id="cancelWithdraw" style="background:#e5e7eb;color:#111">Cancel</button>
        <button id="confirmWithdraw">Confirm Withdraw</button>
      </div>

      <div id="withdrawMsg" class="small" style="margin-top:8px;color:green;display:none"></div>
    </div>
  </div>
</div>

<script>
let balance = parseFloat(localStorage.getItem("balance") || "0.00");
const MIN_WITHDRAW = 100.00;
const PER_VIEW = 0.30;

const balanceEl = document.getElementById('balance');
const withdrawBtn = document.getElementById('withdrawBtn');

function updateUI(){
  balanceEl.textContent = balance.toFixed(2);
  withdrawBtn.disabled = balance < MIN_WITHDRAW;
  localStorage.setItem("balance", balance.toFixed(2));
  loadWithdrawHistory();
}

function credit(){
  balance += PER_VIEW;
  updateUI();
}

// Ads
function showRewardedAd1(){
  show_9869812('pop').then(()=>{
    credit();
    alert('আপনার অ্যাকাউন্টে 0.30 BDT যোগ হয়েছে');
  }).catch(e=>{
    alert('Ad লোড হয়নি, পরে আবার চেষ্টা করুন');
  });
}

function showRewardedAd2(){
  show_9869812().then(()=>{
    credit();
    alert('আপনার অ্যাকাউন্টে 0.30 BDT যোগ হয়েছে');
  }).catch(e=>{
    alert('Ad লোড হয়নি, পরে আবার চেষ্টা করুন');
  });
}

// Withdraw modal
withdrawBtn.addEventListener('click',()=>{
  document.getElementById('modalBalance').textContent = balance.toFixed(2);
  document.getElementById('withdrawModal').style.display = 'flex';
  document.getElementById('withdrawMsg').style.display = 'none';
});
document.getElementById('cancelWithdraw').addEventListener('click',()=>{
  document.getElementById('withdrawModal').style.display = 'none';
});
document.getElementById('confirmWithdraw').addEventListener('click',()=>{
  const method = document.getElementById('payMethod').value;
  const number = document.getElementById('walletNumber').value.trim();
  const amountInput = parseFloat(document.getElementById('withdrawAmount').value);

  if(!/^01[0-9]{9}$/.test(number)){
    alert('Please enter a valid Bangladeshi mobile number (01XXXXXXXXX).');
    return;
  }
  if(isNaN(amountInput) || amountInput < MIN_WITHDRAW){
    alert('Minimum withdraw 100 BDT');
    return;
  }
  if(amountInput > balance){
    alert('You don’t have enough balance!');
    return;
  }

  let withdraws = JSON.parse(localStorage.getItem("withdraws") || "[]");
  let newReq = {
    id: Date.now(),
    date: new Date().toLocaleString(),
    method: method,
    number: number,
    amount: amountInput.toFixed(2),
    status: "Pending"
  };
  withdraws.push(newReq);
  localStorage.setItem("withdraws", JSON.stringify(withdraws));

  balance -= amountInput;
  updateUI();

  document.getElementById('withdrawMsg').style.display = 'block';
  document.getElementById('withdrawMsg').textContent = 'Withdraw request submitted! Admin approval pending.';
});

function loadWithdrawHistory(){
  let withdraws = JSON.parse(localStorage.getItem("withdraws") || "[]");
  const tbody = document.getElementById("withdrawHistory");
  tbody.innerHTML = "";

  // Remove expired withdraws (24 hours)
  const now = Date.now();
  withdraws = withdraws.filter(w => now - w.id < 24*60*60*1000);
  localStorage.setItem("withdraws", JSON.stringify(withdraws));

  if(withdraws.length === 0){
    tbody.innerHTML = "<tr><td colspan='6' style='text-align:center;color:gray'>No withdraw history</td></tr>";
    return;
  }

  withdraws.forEach(w=>{
    let tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${w.id}</td>
      <td>${w.date}</td>
      <td>${w.method}</td>
      <td>${w.number}</td>
      <td>${w.amount} BDT</td>
      <td style="font-weight:bold; color:${
        w.status==="Pending" ? "orange" :
        w.status==="Approved" ? "green" : "red"
      }">${w.status}</td>
    `;
    tbody.appendChild(tr);
  });
}

updateUI();
</script>
</body>
<html lang="bn">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Admin Panel - Withdraw Management</title>
  <style>
    body{font-family:system-ui,Segoe UI,Roboto,Arial;max-width:900px;margin:24px auto;padding:12px}
    h1{margin-bottom:12px}
    table{width:100%;border-collapse:collapse;margin-top:12px}
    th,td{border:1px solid #e5e7eb;padding:6px;font-size:14px;text-align:center}
    th{background:#f3f4f6}
    button{padding:4px 8px;border:0;border-radius:6px;cursor:pointer}
    .approve{background:green;color:white}
    .reject{background:red;color:white}
    .center{text-align:center}
    #loginBox{max-width:400px;margin:60px auto;text-align:center;border:1px solid #ccc;padding:24px;border-radius:12px;}
    #loginBox input{padding:8px;width:80%;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;}
  </style>
</head>
<body>

<div id="loginBox">
  <h2>Admin Login</h2>
  <input type="password" id="adminPass" placeholder="Enter password">
  <br>
  <button onclick="checkPassword()">Login</button>
  <div id="loginMsg" style="margin-top:12px;color:red;"></div>
</div>

<div id="adminPanel" style="display:none">
<h1>Admin Panel - Withdraw Management</h1>
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Date</th>
      <th>Method</th>
      <th>Number</th>
      <th>Amount</th>
      <th>Status</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody id="withdrawTable"></tbody>
</table>
</div>

<script>
const PASSWORD = "admin123"; // <-- এখানে তোমার পাসওয়ার্ড দিতে হবে

function checkPassword(){
  const val = document.getElementById("adminPass").value;
  if(val === PASSWORD){
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("adminPanel").style.display = "block";
    loadWithdraws();
  } else {
    document.getElementById("loginMsg").textContent = "Password ভুল হয়েছে!";
  }
}

// Withdraw functions
function loadWithdraws(){
  let withdraws = JSON.parse(localStorage.getItem("withdraws") || "[]");
  const now = Date.now();
  // Remove expired (24 hours)
  withdraws = withdraws.filter(w => now - w.id < 24*60*60*1000);
  localStorage.setItem("withdraws", JSON.stringify(withdraws));

  const tbody = document.getElementById("withdrawTable");
  tbody.innerHTML = "";
  if(withdraws.length===0){
    tbody.innerHTML = "<tr><td colspan='7' class='center' style='color:gray'>No withdraw requests</td></tr>";
    return;
  }

  withdraws.forEach(w=>{
    let tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${w.id}</td>
      <td>${w.date}</td>
      <td>${w.method}</td>
      <td>${w.number}</td>
      <td>${w.amount} BDT</td>
      <td style="font-weight:bold; color:${
        w.status==="Pending" ? "orange" :
        w.status==="Approved" ? "green" : "red"
      }">${w.status}</td>
      <td>${
        w.status==="Pending" ? 
        `<button class="approve" onclick="updateStatus(${w.id},'Approved')">Approve</button>
         <button class="reject" onclick="updateStatus(${w.id},'Rejected')">Reject</button>` : ""
      }</td>
    `;
    tbody.appendChild(tr);
  });
}

function updateStatus(id, status){
  let withdraws = JSON.parse(localStorage.getItem("withdraws") || "[]");
  withdraws = withdraws.map(w=>{
    if(w.id === id) w.status = status;
    return w;
  });
  localStorage.setItem("withdraws", JSON.stringify(withdraws));
  loadWithdraws();
}

// Auto-refresh every 10 seconds
setInterval(loadWithdraws,10000);
</script>
</body>
</html>
<script type="text/javascript">
	atOptions = {
		'key' : '033b696df1d783841b2acd0056ac0c5b',
		'format' : 'iframe',
		'height' : 250,
		'width' : 300,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/033b696df1d783841b2acd0056ac0c5b/invoke.js"></script>